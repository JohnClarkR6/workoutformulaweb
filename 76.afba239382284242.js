"use strict";(self.webpackChunkWorkoutFormulaWeb=self.webpackChunkWorkoutFormulaWeb||[]).push([[76],{1076:(E,p,a)=>{a.r(p),a.d(p,{AdminModule:()=>k});var g=a(95);function h(i,c,r,e,n,o,s){try{var m=i[o](s),u=m.value}catch(w){return void r(w)}m.done?c(u):Promise.resolve(u).then(e,n)}var t=a(9468),f=a(3076),v=a(5619),A=a(9862);let _=(()=>{class i{constructor(r){this.http=r,this.routineUrl="https://shogunremakeapi.azurewebsites.net/api/routines",this.workoutUrl="https://shogunremakeapi.azurewebsites.net/api/workouts",this._adminPrograms=new v.X([]),this.adminPrograms=this._adminPrograms.asObservable()}getAllPrograms(){return this.http.get(this.routineUrl+"/all").subscribe(r=>{this._adminPrograms.next(r)})}static#t=this.\u0275fac=function(e){return new(e||i)(t.LFG(A.eN))};static#r=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var d=a(157),l=a(6814);const Z=function(i){return[i]};function x(i,c){if(1&i){const r=t.EpF();t.TgZ(0,"tbody",9)(1,"tr")(2,"th",10),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td")(15,"button",11),t.NdJ("click",function(){const o=t.CHM(r).$implicit,s=t.oxw(2);return t.KtG(s.onEditProgramInfo(o.id,o.name))}),t._uU(16,"Edit Info"),t.qZA()(),t.TgZ(17,"td")(18,"button",11),t.NdJ("click",function(){const o=t.CHM(r).$implicit,s=t.oxw(2);return t.KtG(s.onEditProgram(o.id))}),t._uU(19,"Edit Program"),t.qZA()(),t.TgZ(20,"td")(21,"button",11),t.NdJ("click",function(){const o=t.CHM(r).$implicit,s=t.oxw(2);return t.KtG(s.onDeleteProgram(o.id))}),t._uU(22,"Delete"),t.qZA()(),t.TgZ(23,"td")(24,"button",11),t.NdJ("click",function(){const o=t.CHM(r).$implicit,s=t.oxw(2);return t.KtG(s.onDuplicateProgram(o.id))}),t._uU(25,"Duplicate Program"),t.qZA()()()()}if(2&i){const r=c.$implicit,e=c.index;t.Q6J("ngClass",t.VKq(7,Z,r.published?"background-published":"background-not-published")),t.xp6(3),t.Oqu(e+1),t.xp6(2),t.Oqu(r.name),t.xp6(2),t.Oqu(r.id),t.xp6(2),t.Oqu(r.published),t.xp6(2),t.Oqu(r.isPublic),t.xp6(2),t.Oqu(r.createdBy)}}function C(i,c){if(1&i&&(t.TgZ(0,"div")(1,"table",6)(2,"thead")(3,"tr")(4,"th",7),t._uU(5,"#"),t.qZA(),t.TgZ(6,"th",7),t._uU(7,"Name"),t.qZA(),t.TgZ(8,"th",7),t._uU(9,"id"),t.qZA(),t.TgZ(10,"th",7),t._uU(11,"Published"),t.qZA(),t.TgZ(12,"th",7),t._uU(13,"isPublic"),t.qZA(),t.TgZ(14,"th",7),t._uU(15,"CreatedBy"),t.qZA(),t._UZ(16,"th",7)(17,"th",7)(18,"th",7)(19,"th",7),t.qZA()(),t.YNc(20,x,26,9,"tbody",8),t.qZA()()),2&i){const r=t.oxw();t.xp6(20),t.Q6J("ngForOf",r.programs)}}let P=(()=>{class i{constructor(r,e,n){this.userService=r,this.adminService=e,this.router=n,this.backgroundClass="",this.visible=!1,this.showAddExercise=!0}ngOnInit(){this.userService.currentUser.subscribe(r=>{r?this.userSettings=r:(this.router.navigateByUrl(""),localStorage.clear())}),this.adminService.getAllPrograms(),this.adminService.adminPrograms.subscribe(r=>{this.programs=r,this.programs.sort((e,n)=>n.id-e.id),this.programs.sort(({published:e=!1},{published:n=!1})=>Number(n)-Number(e))})}createProgram(){this.router.navigate(["routine/set-up"],{queryParams:{isAdmin:!0}})}onEditProgram(r){console.log(r),this.router.navigate(["routine/create-routine"],{queryParams:{programId:r,isAdmin:!0}})}onEditProgramInfo(r,e){console.log(r),this.router.navigate(["routine/info"],{queryParams:{programId:r,programName:e}})}onDeleteProgram(r){console.log(r)}onDuplicateProgram(r){}onAddExercise(){this.showAddExercise=!0}onAddExerciseToDatabase(){console.log(this.exerciseName)}getAIResponse(){return function b(i){return function(){var c=this,r=arguments;return new Promise(function(e,n){var o=i.apply(c,r);function s(u){h(o,e,n,s,m,"next",u)}function m(u){h(o,e,n,s,m,"throw",u)}s(void 0)})}}(function*(){})()}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(f.K),t.Y36(_),t.Y36(d.F0))};static#r=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-admin"]],decls:10,vars:1,consts:[["for",""],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"table"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["scope","row"],[3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"label",0),t._uU(2,"Admin"),t.qZA()(),t.TgZ(3,"div",1),t._UZ(4,"div",2),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return n.createProgram()}),t._uU(7,"New Program"),t.qZA(),t.YNc(8,C,21,1,"div",5),t.qZA(),t._UZ(9,"div",2),t.qZA()),2&e&&(t.xp6(8),t.Q6J("ngIf",n.programs))},dependencies:[l.mk,l.sg,l.O5],encapsulation:2})}return i})(),T=(()=>{class i{constructor(r,e,n){this.userService=r,this.adminService=e,this.router=n,this.backgroundClass="",this.visible=!1}ngOnInit(){this.userService.currentUser.subscribe(r=>this.userSettings=r),this.adminService.getAllPrograms(),this.adminService.adminPrograms.subscribe(r=>{this.programs=r,this.programs.sort((e,n)=>n.id-e.id),this.programs.sort(({published:e=!1},{published:n=!1})=>Number(n)-Number(e))}),setTimeout(()=>{},100)}onPublish(r){}onEditProgram(r){this.router.navigate(["../routine/create-routine"],{queryParams:{programId:r,isAdmin:!0}})}createProgram(){this.router.navigate(["routine/set-up"],{queryParams:{isAdmin:!0}})}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(f.K),t.Y36(_),t.Y36(d.F0))};static#r=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-admin-programs"]],decls:0,vars:0,template:function(e,n){},encapsulation:2})}return i})();const y=["scrollView"],U=["grid"];let q=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(e){return new(e||i)};static#r=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-admin-tests"]],viewQuery:function(e,n){if(1&e&&(t.Gf(y,5),t.Gf(U,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.scroll=o.first),t.iGM(o=t.CRH())&&(n.grid=o.first)}},decls:0,vars:0,template:function(e,n){},encapsulation:2})}return i})(),k=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#r=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[g.u5,g.UX,l.ez,d.Bz,d.Bz.forChild([{path:"",component:P},{path:"admin-programs",component:T},{path:"admin-tests",component:q}])]})}return i})()}}]);